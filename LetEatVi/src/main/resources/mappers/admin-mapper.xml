<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="admin-mapper">
	
	
		<!-- 상품 전체 조회 -->
	<select id="searchProductAll" parameterType="string" resultType="AdminProduct">
		SELECT PID, C.CID, PNAME, PPRICE, PINFO, PSTOCK, PENROLL, PSELL, C.CNAME
		FROM PRODUCT P, CATEGORY C
		WHERE P.CID = C.CID
	</select>
	
	
	
	<!-- 상품 조회 -->
	<select id="searchProduct" parameterType="string" resultType="AdminProduct">
		SELECT PID, C.CID, PNAME, PPRICE, PINFO, PSTOCK, PENROLL, PSELL, C.CNAME
		FROM PRODUCT P, CATEGORY C
		WHERE P.CID = C.CID
		AND PNAME = #{ pname }
	</select>
	
	<!-- 상품 등록 -->
	<insert id="insertProduct" parameterType="AdminProduct" >
		INSERT INTO PRODUCT 
		VALUES (SEQ_PID.NEXTVAL, #{cid}, #{pname}, #{pprice}, #{pinfo}, #{pstock}, SYSDATE, 0)
	</insert>
	
	
			<!-- 회원 전체 조회 -->
	<select id="searchMemberAll" parameterType="string" resultType="Member">
		SELECT USERID, USERNAME, GENDER, AGE
		FROM MEMBER
	</select>
	
	<!-- 회원 조회 -->
		<select id="searchMember" parameterType="string" resultType="Member">
		SELECT USERID, USERNAME, GENDER, AGE
		FROM MEMBER
		WHERE USERID = #{userId}
	</select>
	

</mapper>